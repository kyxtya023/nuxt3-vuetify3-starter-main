import{u as e,p as t,n as a,h as r,r as l,j as n,a as u,b as i,c as o,w as s,d as v}from"./server.mjs";import{d as c,r as d,h as f,_ as p,c as h}from"../routes/renderer.mjs";async function preloadRouteComponents(t,a=e()){}function defineNuxtLink(a){const s=a.componentName||"NuxtLink";function resolveTrailingSlashBehavior(e,t){if(!e||"append"!==a.trailingSlash&&"remove"!==a.trailingSlash)return e;if("string"==typeof e)return applyTrailingSlashBehavior(e,a.trailingSlash);const r="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:applyTrailingSlashBehavior(r,a.trailingSlash)}}function useNuxtLink(t){var a,i,s;const v=e(),c=o(),d=h((()=>!!t.target&&"_self"!==t.target)),f=h((()=>{const e=t.to||t.href||"";return"string"==typeof e&&r(e,{acceptRelative:!0})})),g=p("RouterLink"),y=g&&"string"!=typeof g?g.useLink:void 0,m=h((()=>{if(t.external)return!0;const e=t.to||t.href||"";return"object"!=typeof e&&(""===e||f.value)})),x=h((()=>{const e=t.to||t.href||"";return m.value?e:resolveTrailingSlashBehavior(e,v.resolve)})),S=m.value||null==y?void 0:y({...t,to:x}),q=h((()=>{var e,t;if(!x.value||f.value)return x.value;if(m.value){const e="object"==typeof x.value&&"path"in x.value?l(x.value):x.value;return resolveTrailingSlashBehavior("object"==typeof e?v.resolve(e).href:e,v.resolve)}return"object"==typeof x.value?null!=(e=null==(t=v.resolve(x.value))?void 0:t.href)?e:null:resolveTrailingSlashBehavior(n(c.app.baseURL,x.value),v.resolve)}));return{to:x,hasTarget:d,isAbsoluteUrl:f,isExternal:m,href:q,isActive:null!=(a=null==S?void 0:S.isActive)?a:h((()=>x.value===v.currentRoute.value.path)),isExactActive:null!=(i=null==S?void 0:S.isExactActive)?i:h((()=>x.value===v.currentRoute.value.path)),route:null!=(s=null==S?void 0:S.route)?s:h((()=>v.resolve(x.value))),async navigate(){await u(q.value,{replace:t.replace,external:m.value||d.value})}}}return c({name:s,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:useNuxtLink,setup(r,{slots:n}){const u=e(),{to:o,href:s,navigate:v,isExternal:c,hasTarget:h,isAbsoluteUrl:g}=useNuxtLink(r),y=d(!1);async function prefetch(e=i()){if(y.value)return;y.value=!0;const t="string"==typeof o.value?o.value:c.value?l(o.value):u.resolve(o.value).fullPath,a=c.value?new URL(t,(void 0).location.href).href:t;await Promise.all([e.hooks.callHook("link:prefetch",a).catch((()=>{})),!c.value&&!h.value&&preloadRouteComponents(o.value,u).catch((()=>{}))])}return()=>{var e;if(!c.value&&!h.value){const e={ref:undefined,to:o.value,activeClass:r.activeClass||a.activeClass,exactActiveClass:r.exactActiveClass||a.exactActiveClass,replace:r.replace,ariaCurrentValue:r.ariaCurrentValue,custom:r.custom};return r.custom||(function(e){var t,l,n,u;return!y.value&&("string"==typeof r.prefetchOn?r.prefetchOn===e:null!=(t=null==(n=r.prefetchOn)?void 0:n[e])?t:null==(u=a.prefetchOn)?void 0:u[e])&&!1!==(null!=(l=r.prefetch)?l:a.prefetch)&&!0!==r.noPrefetch&&"_blank"!==r.target&&!0}("interaction")&&(e.onPointerenter=prefetch.bind(null,void 0),e.onFocus=prefetch.bind(null,void 0)),y.value&&(e.class=r.prefetchedClass||a.prefetchedClass),e.rel=r.rel||void 0),f(p("RouterLink"),e,n.default)}const l=r.target||null,u=((...e)=>e.find((e=>void 0!==e)))(r.noRel?"":r.rel,a.externalRelAttribute,g.value||h.value?"noopener noreferrer":"")||null;return r.custom?n.default?n.default({href:s.value,navigate:v,prefetch:prefetch,get route(){if(!s.value)return;const e=new URL(s.value,"http://localhost");return{path:e.pathname,fullPath:e.pathname,get query(){return t(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:s.value}},rel:u,target:l,isExternal:c.value||h.value,isActive:!1,isExactActive:!1}):null:f("a",{ref:undefined,href:s.value||null,rel:u,target:l},null==(e=n.default)?void 0:e.call(n))}}})}const g=defineNuxtLink(a);function applyTrailingSlashBehavior(e,t){const a="append"===t?s:v;return r(e)&&!e.startsWith("http")?e:a(e,!0)}export{g as _};
//# sourceMappingURL=nuxt-link-BftFs5bt.mjs.map
