import{d as e,r as s,s as a,c as t}from"../../_/nitro.mjs";import"node:async_hooks";const n=e((async e=>{const{contactInfo:n,answers:o}=await s(e),r=`\nЗдравствуйте! Меня зовут ${n.name}.\nМой номер телефона: ${n.phone}.\nВот мои предпочтения:\n\n- Площадь: ${o.area}\n- Конфигурация: ${o.configuration.name} (${o.configuration.title})\n- Количество проемов: ${o.doorways.text}\n- Тип установки: ${o.installation}\n- Тип крепления: ${o.mount}\n- График: ${o.schedule}\n\n${n.message?`Дополнительное сообщение: ${n.message}`:""}\n  `;if(!r)return a(e,t({statusCode:400,message:"Необходимо указать chatId и сообщение."}));try{const e=await $fetch("https://api.telegram.org/bot8056475514:AAGyEDJqqy6IARz2qQ5CHD424mO3_5NaSqw/sendMessage",{method:"POST",body:{chat_id:8180227527,text:r,parse_mode:"HTML"}});if(e)return{success:!0,message:"Сообщение успешно отправлено!"};throw console.error("Ответ от Telegram:",e),new Error("Ошибка при отправке сообщения в Telegram")}catch(s){return console.error("Ошибка отправки сообщения в Telegram:",s),a(e,t({statusCode:500,message:"Ошибка при отправке сообщения."}))}}));export{n as default};
//# sourceMappingURL=send-message.mjs.map
